button[data-btn=switch] {
  ---switch-block: 0.9em;
  ---switch-inline: 1.75em;
  ---switch-start: 3px;
  ---switch-push: calc(1em - 2px);
  ---switch-end: calc(var(---switch-inline) - var(---switch-start));
  ---switch-thumb-size: 0.7em;
  ---switch-text: var(--highlight);
  background: transparent;
  border: transparent;
  color: inherit;
  display: inline grid;
  grid-template:
    's t g label' auto
    / var(---switch-start) var(---switch-end) 0.675ch auto
  ;
  padding: unset;
  transition: grid-template-columns 150ms ease-out;

  &::before,
  &::after {
    align-self: safe center;
    block-size: var(---switch-block);
    content: '';
    display: block;
    grid-row: 1;
  }

  &::before {
    background: var(---switch-track, transparent);
    border: thin solid var(---switch-border, currentColor);
    border-radius: 1lh;
    grid-column: s / t;
  }

  &::after {
    aspect-ratio: 1;
    background: var(---switch-thumb, currentColor);
    block-size: var(---switch-thumb-size);
    border-radius: 100%;
    justify-self: start;
    grid-column: t / g;
  }

  &[aria-pressed=true] {
    ---switch-track: var(--accent);
    ---switch-thumb: var(--accent-text);
    ---switch-start: var(---switch-push);
    ---switch-border: var(--text);
  }

  switch-text {
    color: var(---switch-text, inherit);
  }
}