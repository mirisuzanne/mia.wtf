/* scales */
html {
  /* fonts */
  --os-serif: 'Iowan Old Style', 'Palatino Linotype', 'URW Palladio L', P052, serif;
  --os-code: sfmono-regular, consolas, monaco;

  --var-serif: "Alegreya Variable", var(--os-serif, ui-serif);
  --serif: var(--var-serif, var(--os-serif, ui-serif)), serif;

  --var-code: "JetBrains Mono Variable", var(--os-code, ui-monospace);
  --code: var(--var-code, var(--os-code, ui-monospace)), monospace, serif;

  font-family: var(--serif);
  hanging-punctuation: first last;
}

body,
[set-text] {
  /* size primitives */
  /* @link https://utopia.fyi/type/calculator?c=320,18,1.2,1240,26,1.25,3,1,&s=0.75|0.5|0.25,1.5|2|3|4|6,s-l&g=s,l,xl,12 */
  --step--1-: clamp(0.9375rem, 0.8114rem + 0.6304vi, 1.3rem);
  --step-0-: clamp(1.125rem, 0.9511rem + 0.8696vi, 1.625rem);
  --step-1-: clamp(1.35rem, 1.113rem + 1.1848vi, 2.0313rem);
  --step-2-: clamp(1.62rem, 1.3003rem + 1.5984vi, 2.5391rem);
  --step-3-: clamp(1.944rem, 1.5162rem + 2.1388vi, 3.1738rem);

  --line-height: var(--user-lh-, 1.48);

  /* type sizes */
  --small: var(--step--1-);
  --normal: var(--step-0-);
  --large: var(--step-1-);
  --xlarge: var(--step-2-);

  /* spacing */
  --gap: clamp(12px, 5vi, 24px);
  --shim: calc(var(--gap) / 2);
  --spacer: clamp(1.5rlh, 10vi, 3rlh);

  @supports (width: round(5vi, 5q)) {
    --gap: clamp(12px, round(5vi, 0.5rlh), 24px);
    --spacer: clamp(var(--gap) * 2, round(10vi, 0.5rlh), var(--gap) * 3);
  }

  font-size: var(--normal);
  font-size-adjust: from-font;
  line-height: var(--line-height);
}

[set-text] {
  container: type / inline-size;
}
